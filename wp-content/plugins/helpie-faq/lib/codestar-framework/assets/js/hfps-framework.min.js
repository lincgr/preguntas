/* Codestar Framework | A Lightweight and easy-to-use WordPress Options Framework - v1.0.2*/
!function(a,b,c,d){"use strict";a.CSFRAMEWORK=a.CSFRAMEWORK||{};var e=a("body"),f=e.hasClass("rtl");a.fn.CSFRAMEWORK_TAB_NAVIGATION=function(){return this.each(function(){var b=a(this),c=b.find(".hfps-nav"),d=b.find(".hfps-reset"),e=b.find(".hfps-expand-all");c.find("ul:first a").on("click",function(b){b.preventDefault();var e=a(this),f=e.next(),g=e.data("section");f.is("ul")?(f.slideToggle("fast"),e.closest("li").toggleClass("hfps-tab-active")):(a("#hfps-tab-"+g).show().siblings().hide(),c.find("a").removeClass("hfps-section-active"),e.addClass("hfps-section-active"),d.val(g))}),e.on("click",function(c){c.preventDefault(),b.find(".hfps-body").toggleClass("hfps-show-all"),a(this).find(".fa").toggleClass("fa-eye-slash").toggleClass("fa-eye")})})},a.CSFRAMEWORK.DEPENDENCY=function(b,c){var e=this;e.$el=a(b),e.el=b,e.init=function(){e.ruleset=a.deps.createRuleset();var b={show:function(a){a.removeClass("hidden")},hide:function(a){a.addClass("hidden")},log:!1,checkTargets:!1};c!==d?e.depSub():e.depRoot(),a.deps.enable(e.$el,e.ruleset,b)},e.depRoot=function(){e.$el.each(function(){a(this).find("[data-controller]").each(function(){var b=a(this),c=b.data("controller").split("|"),d=b.data("condition").split("|"),f=b.data("value").toString().split("|"),g=e.ruleset;a.each(c,function(a,c){var e=f[a]||"",h=d[a]||d[0];g=g.createRule('[data-depend-id="'+c+'"]',h,e),g.include(b)})})})},e.depSub=function(){e.$el.each(function(){a(this).find("[data-sub-controller]").each(function(){var b=a(this),c=b.data("sub-controller").split("|"),d=b.data("sub-condition").split("|"),f=b.data("sub-value").toString().split("|"),g=e.ruleset;a.each(c,function(a,c){var e=f[a]||"",h=d[a]||d[0];g=g.createRule('[data-sub-depend-id="'+c+'"]',h,e),g.include(b)})})})},e.init()},a.fn.CSFRAMEWORK_DEPENDENCY=function(b){return this.each(function(){new a.CSFRAMEWORK.DEPENDENCY(this,b)})},a.fn.CSFRAMEWORK_CHOSEN=function(){return this.each(function(){a(this).chosen({allow_single_deselect:!0,disable_search_threshold:15,width:parseFloat(a(this).actual("width")+25)+"px"})})},a.fn.CSFRAMEWORK_IMAGE_SELECTOR=function(){return this.each(function(){a(this).find("label").on("click",function(){a(this).siblings().find("input").prop("checked",!1)})})},a.fn.CSFRAMEWORK_SORTER=function(){return this.each(function(){var b=a(this),c=b.find(".hfps-enabled"),d=b.find(".hfps-disabled");c.sortable({connectWith:d,placeholder:"ui-sortable-placeholder",update:function(a,b){var c=b.item.find("input");b.item.parent().hasClass("hfps-enabled")?c.attr("name",c.attr("name").replace("disabled","enabled")):c.attr("name",c.attr("name").replace("enabled","disabled"))}}),d.sortable({connectWith:c,placeholder:"ui-sortable-placeholder"})})},a.fn.CSFRAMEWORK_UPLOADER=function(){return this.each(function(){var b,c=a(this),d=c.find(".hfps-add"),e=c.find("input");d.on("click",function(a){if(a.preventDefault(),"undefined"!=typeof wp&&wp.media&&wp.media.gallery){if(b)return void b.open();b=wp.media({title:d.data("frame-title"),library:{type:d.data("upload-type")},button:{text:d.data("insert-title")}}),b.on("select",function(){var a=b.state().get("selection").first();e.val(a.attributes.url).trigger("change")}),b.open()}})})},a.fn.CSFRAMEWORK_IMAGE_UPLOADER=function(){return this.each(function(){var b,c=a(this),d=c.find(".hfps-add"),e=c.find(".hfps-image-preview"),f=c.find(".hfps-remove"),g=c.find("input"),h=c.find("img");d.on("click",function(a){if(a.preventDefault(),"undefined"!=typeof wp&&wp.media&&wp.media.gallery){if(b)return void b.open();b=wp.media({library:{type:"image"}}),b.on("select",function(){var a=b.state().get("selection").first().attributes,c=void 0!==a.sizes&&void 0!==a.sizes.thumbnail?a.sizes.thumbnail.url:a.url;e.removeClass("hidden"),h.attr("src",c),g.val(a.id).trigger("change")}),b.open()}}),f.on("click",function(a){a.preventDefault(),g.val("").trigger("change"),e.addClass("hidden")})})},a.fn.CSFRAMEWORK_IMAGE_GALLERY=function(){return this.each(function(){var b,c=a(this),d=c.find(".hfps-edit"),e=c.find(".hfps-remove"),f=c.find("ul"),g=c.find("input");c.find("img");c.on("click",".hfps-add, .hfps-edit",function(c){var h=a(this),i=g.val(),j=h.hasClass("hfps-edit")?"edit":"add",k="add"!==j||i.length?"gallery-edit":"gallery";c.preventDefault(),"undefined"!=typeof wp&&wp.media&&wp.media.gallery&&("gallery"===k?(b=wp.media({library:{type:"image"},frame:"post",state:"gallery",multiple:!0}),b.open()):(b=wp.media.gallery.edit('[gallery ids="'+i+'"]'),"add"===j&&b.setState("gallery-library")),b.on("update",function(a){f.empty();var b=a.models.map(function(a){var b=a.toJSON(),c=void 0!==b.sizes.thumbnail?b.sizes.thumbnail.url:b.url;return f.append('<li><img src="'+c+'"></li>'),b.id});g.val(b.join(",")).trigger("change"),e.removeClass("hidden"),d.removeClass("hidden")}))}),e.on("click",function(a){a.preventDefault(),f.empty(),g.val("").trigger("change"),e.addClass("hidden"),d.addClass("hidden")})})},a.fn.CSFRAMEWORK_TYPOGRAPHY=function(){return this.each(function(){var b=a(this),c=b.find(".hfps-typo-family"),d=b.find(".hfps-typo-variant"),e=b.find(".hfps-typo-font");c.on("change",function(){var b=a(this),c=b.find(":selected").data("type")||"custom",f=b.find(":selected").data("variants");d.length&&(d.find("option").remove(),a.each(f.split("|"),function(a,b){d.append('<option value="'+b+'">'+b+"</option>")}),d.find('option[value="regular"]').attr("selected","selected").trigger("chosen:updated")),e.val(c)})})},a.fn.CSFRAMEWORK_GROUP=function(){return this.each(function(){var b=a(this),c=b.find(".hfps-groups"),d=b.find(".hfps-accordion"),e=b.find(".hfps-group:first").clone();d.length&&d.accordion({header:".hfps-group-title",collapsible:!0,active:!1,animate:250,heightStyle:"content",icons:{header:"dashicons dashicons-arrow-right",activeHeader:"dashicons dashicons-arrow-down"},beforeActivate:function(b,c){a(c.newPanel).CSFRAMEWORK_DEPENDENCY("sub")}}),c.sortable({axis:"y",handle:".hfps-group-title",helper:"original",cursor:"move",placeholder:"widget-placeholder",start:function(a,b){var d=b.item.children(".hfps-group-content");"block"===d.css("display")&&(d.hide(),c.sortable("refreshPositions"))},stop:function(a,b){b.item.children(".hfps-group-title").triggerHandler("focusout"),d.accordion({active:!1})}});var f=0;a(".hfps-add-group",b).on("click",function(a){a.preventDefault(),e.find("input, select, textarea").each(function(){this.name=this.name.replace(/\[(\d+)\]/,function(a,b){return"["+(parseInt(b,10)+1)+"]"})});var b=e.clone().removeClass("hidden");c.append(b),d.length&&(c.accordion("refresh"),c.accordion({active:b.index()})),c.find("input, select, textarea").each(function(){this.name=this.name.replace("[_nonce]","")}),b.CSFRAMEWORK_DEPENDENCY("sub"),b.CSFRAMEWORK_RELOAD_PLUGINS(),f++}),c.on("click",".hfps-remove-group",function(b){b.preventDefault(),a(this).closest(".hfps-group").remove()})})},a.fn.CSFRAMEWORK_CONFIRM=function(){return this.each(function(){a(this).on("click",function(a){confirm("Are you sure?")||a.preventDefault()})})},a.fn.CSFRAMEWORK_SAVE=function(){return this.each(function(){var b=a(this),d=b.data("save"),e=b.val(),f=a("#hfps-save-ajax");a(c).on("keydown",function(a){(a.ctrlKey||a.metaKey)&&"s"===String.fromCharCode(a.which).toLowerCase()&&(a.preventDefault(),b.trigger("click"))}),b.on("click",function(c){if(f.length){"object"==typeof tinyMCE&&tinyMCE.triggerSave(),b.prop("disabled",!0).attr("value",d);var g=a("#hfpsframework_form").serialize();a.post("options.php",g).error(function(){alert("Error, Please try again.")}).success(function(){b.prop("disabled",!1).attr("value",e),f.hide().fadeIn().delay(250).fadeOut()}),c.preventDefault()}else b.addClass("disabled").attr("value",d)})})},a.fn.CSFRAMEWORK_TAXONOMY=function(){return this.each(function(){var b=a(this),c=b.parent();if("addtag"===c.attr("id")){var d=c.find("#submit"),e=(c.find("#tag-name"),c.find(".hfps-framework")),f=e.find(".hfps-element").clone(),g=a("#the-list"),h=!1;d.on("click",function(){h||g.on("DOMNodeInserted",function(){h&&(e.empty(),e.html(f),f=f.clone(),e.CSFRAMEWORK_RELOAD_PLUGINS(),e.CSFRAMEWORK_DEPENDENCY(),h=!1)}),h=!0})}})},void 0!==a.widget&&void 0!==a.ui&&void 0!==a.ui.dialog&&a.widget("ui.dialog",a.ui.dialog,{_createOverlay:function(){this._super(),this.options.modal&&this._on(this.overlay,{click:"close"})}}),a.CSFRAMEWORK.ICONS_MANAGER=function(){var c,d=this,f=!0;d.init=function(){e.on("click",".hfps-icon-add",function(d){d.preventDefault();var g=a(this),h=a("#hfps-icon-dialog"),i=h.find(".hfps-dialog-load"),j=(h.find(".hfps-dialog-select"),h.find(".hfps-dialog-insert"),h.find(".hfps-icon-search"));c=g.closest(".hfps-icon-select"),h.dialog({width:850,height:700,modal:!0,resizable:!1,closeOnEscape:!0,position:{my:"center",at:"center",of:b},open:function(){e.addClass("hfps-icon-scrolling"),a(".ui-dialog-titlebar-close").addClass("ui-button"),a(b).on("resize",function(){var c=a(b).height(),d=Math.floor(c-237),e=Math.floor(c-125);h.dialog("option","height",e).parent().css("max-height",e),h.css("overflow","auto"),i.css("height",d)}).resize()},close:function(){e.removeClass("hfps-icon-scrolling")}}),f&&a.ajax({type:"POST",url:ajaxurl,data:{action:"hfps-get-icons"},success:function(b){i.html(b),f=!1,i.on("click","a",function(b){b.preventDefault();var d=a(this).data("hfps-icon");c.find("i").removeAttr("class").addClass(d),c.find("input").val(d).trigger("change"),c.find(".hfps-icon-preview").removeClass("hidden"),c.find(".hfps-icon-remove").removeClass("hidden"),h.dialog("close")}),j.keyup(function(){var b=a(this).val();i.find("a").each(function(){var c=a(this);c.data("hfps-icon").search(new RegExp(b,"i"))<0?c.hide():c.show()})}),i.find(".hfps-icon-tooltip").hfpstooltip({html:!0,placement:"top",container:"body"})}})}),e.on("click",".hfps-icon-remove",function(b){b.preventDefault();var c=a(this),d=c.closest(".hfps-icon-select");d.find(".hfps-icon-preview").addClass("hidden"),d.find("input").val("").trigger("change"),c.addClass("hidden")})},d.init()},a.CSFRAMEWORK.SHORTCODE_MANAGER=function(){var c,f=this;f.init=function(){var d,g,h,i,j,k=a("#hfps-shortcode-dialog"),l=k.find(".hfps-dialog-insert"),m=k.find(".hfps-dialog-load"),n=k.find(".hfps-dialog-select"),o=!1;e.on("click",".hfps-shortcode",function(c){c.preventDefault(),n.CSFRAMEWORK_CHOSEN(),i=a(this),o=i.hasClass("hfps-shortcode-textarea"),j=i.data("editor-id"),k.dialog({width:850,height:700,modal:!0,resizable:!1,closeOnEscape:!0,position:{my:"center",at:"center",of:b},open:function(){e.addClass("hfps-shortcode-scrolling"),a(".ui-dialog-titlebar-close").addClass("ui-button"),a(b).on("resize",function(){var c=a(b).height(),d=Math.floor(c-281),e=Math.floor(c-125);k.dialog("option","height",e).parent().css("max-height",e),k.css("overflow","auto"),m.css("height",d)}).resize()},close:function(){o=!1,e.removeClass("hfps-shortcode-scrolling")}})}),n.on("change",function(){var b=a(this);d=b.val(),g=b.find(":selected").data("view"),d.length?a.ajax({type:"POST",url:ajaxurl,data:{action:"hfps-get-shortcode",shortcode:d},success:function(b){m.html(b),l.parent().removeClass("hidden"),h=a(".hfps-shortcode-clone",k).clone(),m.CSFRAMEWORK_DEPENDENCY(),m.CSFRAMEWORK_DEPENDENCY("sub"),m.CSFRAMEWORK_RELOAD_PLUGINS()}}):(l.parent().addClass("hidden"),m.html(""))}),l.on("click",function(b){b.preventDefault();var e="",h="data-atts",l="data-clone-atts",m="data-clone-id";switch(g){case"contents":a("["+h+"]",".hfps-dialog-load").each(function(){var b=a(this),c=b.data("atts");e+="["+c+"]",e+=b.val(),e+="[/"+c+"]"});break;case"clone":e+="["+d,a("["+h+"]",".hfps-dialog-load .hfps-element:not(.hidden)").each(function(){var b=a(this),c=b.data("atts");e+=f.validate_atts(c,b)}),e+="]",a("["+m+"]",".hfps-dialog-load").each(function(){var b=a(this),c=b.data("clone-id");e+="["+c,a("["+l+"]",b.find(".hfps-element").not(".hidden")).each(function(){var b=a(this),d=b.data("clone-atts");"content"!==d?e+=f.validate_atts(d,b):"content"===d&&(e+="]",e+=b.val(),e+="[/"+c)}),e+="]"}),e+="[/"+d+"]";break;case"clone_duplicate":a("["+m+"]",".hfps-dialog-load").each(function(){var b=a(this),c=b.data("clone-id");e+="["+c,a("["+l+"]",b.find(".hfps-element").not(".hidden")).each(function(){var b=a(this),d=b.data("clone-atts");"content"!==d?e+=f.validate_atts(d,b):"content"===d&&(e+="]",e+=b.val(),e+="[/"+c)}),e+="]"});break;default:e+="["+d,a("["+h+"]",".hfps-dialog-load .hfps-element:not(.hidden)").each(function(){var b=a(this),c=b.data("atts");"content"!==c?e+=f.validate_atts(c,b):"content"===c&&(e+="]",e+=b.val(),e+="[/"+d)}),e+="]"}if(o){var n=i.next();n.val(f.insertAtChars(n,e)).trigger("change")}else f.send_to_editor(e,j);c=null,k.dialog("close")});var p=0;k.on("click","#shortcode-clone-button",function(b){b.preventDefault();var c=h.clone().hide();c.find("input:radio").attr("name","_nonce_"+p),a(".hfps-shortcode-clone:last").after(c),c.slideDown(100),c.find(".hfps-remove-clone").show().on("click",function(a){c.slideUp(100,function(){c.remove()}),a.preventDefault()}),c.CSFRAMEWORK_DEPENDENCY("sub"),c.CSFRAMEWORK_RELOAD_PLUGINS(),p++})},f.validate_atts=function(b,e){var f;return e.data("check")!==d&&c===b?"":(c=b,!0===e.closest(".pseudo-field").hasClass("hidden")?"":!0===e.hasClass("pseudo")?"":(f=e.is(":checkbox")||e.is(":radio")?e.is(":checked")?e.val():"":e.val(),e.data("check")!==d&&(f=e.closest(".hfps-element").find("input:checked").map(function(){return a(this).val()}).get()),null!==f&&f!==d&&""!==f&&0!==f.length?" "+b+'="'+f+'"':""))},f.insertAtChars=function(a,b){var c=void 0!==a[0].name?a[0]:a;return c.value.length&&void 0!==c.selectionStart?(c.focus(),c.value.substring(0,c.selectionStart)+b+c.value.substring(c.selectionEnd,c.value.length)):(c.focus(),b)},f.send_to_editor=function(b,c){var d;if("undefined"!=typeof tinymce&&(d=tinymce.get(c)),d&&!d.isHidden())d.execCommand("mceInsertContent",!1,b);else{var e=a("#"+c);e.val(f.insertAtChars(e,b)).trigger("change")}},f.init()},"function"==typeof Color&&(Color.fn.toString=function(){if(this._alpha<1)return this.toCSS("rgba",this._alpha).replace(/\s+/g,"");var a=parseInt(this._color,10).toString(16);if(this.error)return"";if(a.length<6)for(var b=6-a.length-1;b>=0;b--)a="0"+a;return"#"+a}),a.CSFRAMEWORK.PARSE_COLOR_VALUE=function(a){var b=a.replace(/\s+/g,""),c=-1!==b.indexOf("rgba")?parseFloat(100*b.replace(/^.*,(.+)\)/,"$1")):100;return{value:b,alpha:c,rgba:c<100}},a.fn.CSFRAMEWORK_COLORPICKER=function(){return this.each(function(){var b=a(this);if(!1!==b.data("rgba")){var c=a.CSFRAMEWORK.PARSE_COLOR_VALUE(b.val());b.wpColorPicker({clear:function(){b.trigger("keyup")},change:function(a,c){var d=c.color.toString();b.closest(".wp-picker-container").find(".hfps-alpha-slider-offset").css("background-color",d),b.val(d).trigger("change")},create:function(){var d=b.data("a8cIris"),f=b.closest(".wp-picker-container"),g=a('<div class="hfps-alpha-wrap"><div class="hfps-alpha-slider"></div><div class="hfps-alpha-slider-offset"></div><div class="hfps-alpha-text"></div></div>').appendTo(f.find(".wp-picker-holder")),h=g.find(".hfps-alpha-slider"),i=g.find(".hfps-alpha-text"),j=g.find(".hfps-alpha-slider-offset");h.slider({slide:function(a,c){var e=parseFloat(c.value/100);d._color._alpha=e,b.wpColorPicker("color",d._color.toString()),i.text(e<1?e:"")},create:function(){var k=parseFloat(c.alpha/100),l=k<1?k:"";i.text(l),j.css("background-color",c.value),f.on("click",".wp-picker-clear",function(){d._color._alpha=1,i.text("").trigger("change"),h.slider("option","value",100).trigger("slide")}),f.on("click",".wp-picker-default",function(){var c=a.CSFRAMEWORK.PARSE_COLOR_VALUE(b.data("default-color")),e=parseFloat(c.alpha/100),f=e<1?e:"";d._color._alpha=e,i.text(f),h.slider("option","value",c.alpha).trigger("slide")}),f.on("click",".wp-color-result",function(){g.toggle()}),e.on("click.wpcolorpicker",function(){g.hide()})},value:c.alpha,step:1,min:1,max:100})}})}else b.wpColorPicker({clear:function(){b.trigger("keyup")},change:function(a,c){b.val(c.color.toString()).trigger("change")}})})},a.CSFRAMEWORK.WIDGET_RELOAD_PLUGINS=function(){a(c).on("widget-added widget-updated",function(a,b){b.CSFRAMEWORK_RELOAD_PLUGINS(),b.CSFRAMEWORK_DEPENDENCY()})},a.fn.CSFRAMEWORK_TOOLTIP=function(){return this.each(function(){var b=f?"right":"left";a(this).hfpstooltip({html:!0,placement:b,container:"body"})})},a.fn.CSFRAMEWORK_RELOAD_PLUGINS=function(){return this.each(function(){a(".chosen",this).CSFRAMEWORK_CHOSEN(),a(".hfps-field-image-select",this).CSFRAMEWORK_IMAGE_SELECTOR(),a(".hfps-field-image",this).CSFRAMEWORK_IMAGE_UPLOADER(),a(".hfps-field-gallery",this).CSFRAMEWORK_IMAGE_GALLERY(),a(".hfps-field-sorter",this).CSFRAMEWORK_SORTER(),a(".hfps-field-upload",this).CSFRAMEWORK_UPLOADER(),a(".hfps-field-typography",this).CSFRAMEWORK_TYPOGRAPHY(),a(".hfps-field-color-picker",this).CSFRAMEWORK_COLORPICKER(),a(".hfps-help",this).CSFRAMEWORK_TOOLTIP()})},a(c).ready(function(){a(".hfps-framework").CSFRAMEWORK_TAB_NAVIGATION(),a(".hfps-reset-confirm, .hfps-import-backup").CSFRAMEWORK_CONFIRM(),a(".hfps-content, .wp-customizer, .widget-content, .hfps-taxonomy").CSFRAMEWORK_DEPENDENCY(),a(".hfps-field-group").CSFRAMEWORK_GROUP(),a(".hfps-save").CSFRAMEWORK_SAVE(),a(".hfps-taxonomy").CSFRAMEWORK_TAXONOMY(),a(".hfps-framework, #widgets-right").CSFRAMEWORK_RELOAD_PLUGINS(),a.CSFRAMEWORK.ICONS_MANAGER(),a.CSFRAMEWORK.SHORTCODE_MANAGER(),a.CSFRAMEWORK.WIDGET_RELOAD_PLUGINS()})}(jQuery,window,document);